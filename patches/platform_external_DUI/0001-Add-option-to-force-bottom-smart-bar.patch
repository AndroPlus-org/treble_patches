From dfbb8d9f9070b29aef51a55c0048d9ca6b3bea8b Mon Sep 17 00:00:00 2001
From: AndroPlus <mail@andro.plus>
Date: Sat, 3 Nov 2018 11:16:51 +0900
Subject: [PATCH 1/1] Add option to force bottom smart bar

Change-Id: I89cfe4770b4a30356847d7b19f1bd141d503065e
Signed-off-by: AndroPlus <mail@andro.plus>
---
 .../systemui/navigation/BaseNavigationBar.java    | 15 ++++++++++-----
 1 file changed, 10 insertions(+), 5 deletions(-)

diff --git a/src/com/android/systemui/navigation/BaseNavigationBar.java b/src/com/android/systemui/navigation/BaseNavigationBar.java
index 53d29ef..55b6b43 100644
--- a/src/com/android/systemui/navigation/BaseNavigationBar.java
+++ b/src/com/android/systemui/navigation/BaseNavigationBar.java
@@ -2,7 +2,7 @@
  * Copyright (C) 2008 The Android Open Source Project
  * Copyright (C) 2014 The TeamEos Project
  * Copyright (C) 2016 The DirtyUnicorns Project
- * 
+ *
  * @author: Randall Rushing <randall.rushing@gmail.com>
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
@@ -16,10 +16,10 @@
  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  * See the License for the specific language governing permissions and
  * limitations under the License.
- * 
+ *
  * Base navigation bar abstraction for managing keyguard policy, internal
  * bar behavior, and everything else not feature implementation specific
- * 
+ *
  */
 
 package com.android.systemui.navigation;
@@ -60,6 +60,7 @@ import android.media.AudioManager;
 import android.os.Handler;
 import android.os.Message;
 import android.os.PowerManager;
+import android.os.SystemProperties;
 import android.util.AttributeSet;
 import android.util.Log;
 import android.view.Display;
@@ -203,7 +204,7 @@ public abstract class BaseNavigationBar extends LinearLayout implements Navigato
     public void abortCurrentGesture(){}
 
     public void setMenuVisibility(final boolean show) {}
-    public void setMenuVisibility(final boolean show, final boolean force) {} 
+    public void setMenuVisibility(final boolean show, final boolean force) {}
     public void setNavigationIconHints(int hints) {}
     public void setNavigationIconHints(int hints, boolean force) {}
     public void onHandlePackageChanged(){}
@@ -358,7 +359,11 @@ public abstract class BaseNavigationBar extends LinearLayout implements Navigato
     }
 
     public boolean isLandscape() {
-        return mCurrentView == mRot90;
+        if (SystemProperties.get("config.force_bottom_navbar", "0").equals("1")) {
+          return mCurrentView == mRot0;
+        } else {
+          return mCurrentView == mRot90;
+        }
     }
 
     // if a bar instance is created from a user mode switch
-- 
2.17.1

