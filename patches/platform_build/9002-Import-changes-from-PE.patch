From 5d2b38addd8b49723177d8f3921be5b99852f788 Mon Sep 17 00:00:00 2001
From: AndroPlus <mail@andro.plus>
Date: Mon, 10 Dec 2018 08:52:44 +0900
Subject: [PATCH 1/1] Import changes from PE

Change-Id: Ia526bd3f12f02265849acbeacf2176cfaf5be90f
Signed-off-by: AndroPlus <mail@andro.plus>
---
 target/board/treble_common_64.mk | 3 +++
 target/product/treble_common.mk  | 9 +++++++++
 2 files changed, 12 insertions(+)

diff --git a/target/board/treble_common_64.mk b/target/board/treble_common_64.mk
index 8980dfde1..64c2b003d 100644
--- a/target/board/treble_common_64.mk
+++ b/target/board/treble_common_64.mk
@@ -18,3 +18,6 @@ include build/make/target/board/treble_common.mk
 
 # Enable 64-bits binder
 TARGET_USES_64_BIT_BINDER := true
+
+# Partition size is default 1.5GB (1536MB) for 64 bits projects
+BOARD_SYSTEMIMAGE_PARTITION_SIZE := 1610612736
\ No newline at end of file
diff --git a/target/product/treble_common.mk b/target/product/treble_common.mk
index d1bfa7b04..43cd33701 100644
--- a/target/product/treble_common.mk
+++ b/target/product/treble_common.mk
@@ -34,6 +34,15 @@ PRODUCT_FULL_TREBLE_OVERRIDE := true
 PRODUCT_PACKAGES += \
     messaging
 
+# The following policy XML files are used as fallback for
+# vendors/devices not using XML to configure audio policy.
+PRODUCT_COPY_FILES += \
+    frameworks/av/services/audiopolicy/config/audio_policy_configuration_generic.xml:system/etc/audio_policy_configuration.xml \
+    frameworks/av/services/audiopolicy/config/primary_audio_policy_configuration.xml:system/etc/primary_audio_policy_configuration.xml \
+    frameworks/av/services/audiopolicy/config/r_submix_audio_policy_configuration.xml:system/etc/r_submix_audio_policy_configuration.xml \
+    frameworks/av/services/audiopolicy/config/audio_policy_volumes.xml:system/etc/audio_policy_volumes.xml \
+    frameworks/av/services/audiopolicy/config/default_volume_tables.xml:system/etc/default_volume_tables.xml \
+
 # Telephony:
 #   Provide a default APN configuration
 PRODUCT_COPY_FILES += \
-- 
2.17.1

